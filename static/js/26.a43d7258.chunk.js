"use strict";(self.webpackChunkreact_ts=self.webpackChunkreact_ts||[]).push([[26],{7026:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var i=n(3433),a=n(1413),r=n(9439),l=n(2791),s=n(3188),u=n(478),o=n(7031),c=n(184);function d(e,t){var n=s.Z.useForm(),i=(0,r.Z)(n,1)[0],d=e.title,f=e.row,h=e.update,Z=(0,l.useState)(!1),m=(0,r.Z)(Z,2),p=m[0],v=m[1],g=(0,l.useState)({}),x=(0,r.Z)(g,2),j=x[0],k=x[1];(0,l.useEffect)((function(){k((0,a.Z)({},f)),i.setFieldsValue(f)}),[f]),(0,l.useImperativeHandle)(t,(function(){return{showModal:function(){w()}}}));var w=function(){v(!0)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(u.Z,{title:d,visible:p,onOk:function(){h(d,j),k({title:"",value:""}),v(!1)},onCancel:function(){v(!1)},children:(0,c.jsxs)(s.Z,{form:i,name:"basic",labelCol:{span:8},wrapperCol:{span:16},onChange:function(e){switch(e.target.id){case"basic_title":k((0,a.Z)((0,a.Z)({},j),{},{title:e.target.value}));break;case"basic_value":k((0,a.Z)((0,a.Z)({},j),{},{value:e.target.value}))}},autoComplete:"off",children:[(0,c.jsx)(s.Z.Item,{label:"\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898!"}],children:(0,c.jsx)(o.Z,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"})}),(0,c.jsx)(s.Z.Item,{label:"\u5185\u5bb9",name:"value",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9!"}],children:(0,c.jsx)(o.Z,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})})]})})})}var f=(0,l.forwardRef)(d),h=(n(7466),n(9979)),Z=n(7309);h.Z.Column,h.Z.ColumnGroup;function m(){var e=(0,l.useRef)(null),t=(0,l.useState)([]),n=(0,r.Z)(t,2),s=n[0],u=n[1],o=(0,l.useState)(),d=(0,r.Z)(o,2),h=d[0],Z=d[1],m=(0,l.useState)(),v=(0,r.Z)(m,2),g=v[0],x=v[1];(0,l.useEffect)((function(){window.api.signin.province.list().then((function(e){u(e.data.list.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{key:t+1})})))}))}),[e]);return(0,c.jsxs)("div",{children:[(0,c.jsx)(p,{date:s,modal:e,settitles:x,setrow:Z,setdate:u}),(0,c.jsx)(f,{ref:e,title:g,row:h,update:function(e,t){if("\u65b0\u589e\u6570\u636e"===e)Object.assign(t,{key:1e3*Math.random()}),u([t].concat((0,i.Z)(s)));else{var n=s.map((function(e,n){return e.key===t.key&&(e=t),(0,a.Z)({},e)}));u(n)}}})]})}var p=function(e){var t=e.date,n=e.modal,i=e.settitles,a=e.setrow,s=e.setdate,u=(0,l.useState)([]),o=(0,r.Z)(u,2),d=o[0],f=o[1],m=(0,l.useState)(!1),p=(0,r.Z)(m,2),v=p[0],g=p[1],x=[{title:"\u6807\u9898",dataIndex:"title",key:"title",width:200,align:"center"},{title:"\u5185\u5bb9",dataIndex:"value",key:"value",width:200,align:"center"},{title:"\u64cd\u4f5c",key:"action",width:200,align:"center",render:function(e,t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(Z.Z,{type:"link",onClick:function(){return k("\u4fee\u6539\u6570\u636e",t)},children:"\u4fee\u6539"}),(0,c.jsx)(Z.Z,{type:"link",danger:!0,onClick:function(){return w(t.key)},children:"\u5220\u9664"})]})}}],j={selectedRowKeys:d,onChange:function(e,t,n){f(e)}},k=function(e,t){var r;i(e),a(t),null===(r=n.current)||void 0===r||r.showModal()},w=function(e){s(t.filter((function(t){return t.key!==e})))},y=d.length>0;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"layout",children:[(0,c.jsxs)("div",{style:{marginBottom:16},children:[(0,c.jsx)(Z.Z,{type:"primary",onClick:function(){g(!0),setTimeout((function(){f([]),g(!1)}),1e3)},disabled:!y,loading:v,children:"\u9009\u62e9"}),(0,c.jsx)("span",{style:{marginLeft:8},children:y?" ".concat(d.length," \u6761"):""})]}),(0,c.jsx)("div",{children:(0,c.jsx)(Z.Z,{style:{marginRight:18},type:"primary",onClick:function(){return k("\u65b0\u589e\u6570\u636e")},children:"\u65b0\u589e"})})]}),(0,c.jsx)(h.Z,{bordered:!0,rowSelection:j,columns:x,dataSource:t,pagination:{total:t.length,defaultCurrent:1,pageSize:10,showSizeChanger:!1,showQuickJumper:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761")}}})]})}},7466:function(){}}]);
//# sourceMappingURL=26.a43d7258.chunk.js.map